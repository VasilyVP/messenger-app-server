(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{107:function(e,t,n){},137:function(e,t){},142:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),l=n(11),u=n(8),s=n.n(u),i=(n(107),n(181)),o=n(182),m=n(185),f=n(183),d=n(47),E=n(48),b=n(171),g=n(186),h=n(173),v=n(184),p=n(175),j=n(176);!function(e){e.joinUser="Add new chat user",e.leaveChat="Leave chat",e.postMsg="Post new message",e.updateUsers="Update users list"}(a||(a={}));var O=n(82),y=n.n(O).a.connect();function w(){return y}var x=a,k=w();function C(){return k.emit("leave chat"),{type:x.leaveChat}}var N=n(86),U=n.n(N),F=Object(b.a)((function(e){return Object(g.a)({root:{"& > *":{margin:e.spacing(1)}},textField:{width:"33ch"},button:{width:"15ch"}})})),I=function(){var e=F(),t=Object(l.b)(),n=Object(l.c)((function(e){return e.users.user})),a=Object(r.useState)(""),u=Object(d.a)(a,2),s=u[0],i=u[1];return c.a.createElement("div",null,c.a.createElement(h.a,null,c.a.createElement(m.a,{className:e.root,display:"flex",justifyContent:"flex-end"},n?c.a.createElement(m.a,{className:e.root,color:"secondary.main",pr:1,display:"flex",alignItems:"center"},c.a.createElement(E.a,{variant:"h6"},"Hey, ",n,"!"),c.a.createElement(j.a,{onClick:function(){return t(C())}},c.a.createElement(U.a,{color:"primary"}))):c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{id:"nickname",label:"Nickname",variant:"outlined",size:"small",value:s,onChange:function(e){return i(e.target.value)}}),c.a.createElement(p.a,{className:e.button,variant:"outlined",color:"secondary",onClick:function(){return t(function(e){return k.emit("register user",e),{type:x.joinUser,user:e}}(s))}},"Join")))))},L=n(178),M=n(179),S=n(187),z=n(180),J=n(177),W=n(45),B=n.n(W),H=n(89),T=(n(141),function(){var e=Object(l.c)((function(e){return e.messages})),t=Object(l.b)(),n=w(),a=Object(r.useRef)(null),u=600;function s(t){var n=t.index,a=t.style;return c.a.createElement(L.a,{key:n,dense:!0,style:a},c.a.createElement(M.a,null,c.a.createElement(S.a,null,c.a.createElement(B.a,null))),c.a.createElement(z.a,{primary:e[n].text,secondary:e[n].user}))}return Object(J.a)("(max-width:1280px)")&&(u=400),Object(r.useEffect)((function(){return n.on("new message",(function(e){return t(function(e){return{type:x.postMsg,msg:e}}(e))})),function(){n.off("new message")}})),Object(r.useEffect)((function(){null!==a.current&&a.current.scrollToItem(e.length-1,"end")}),[e.length]),c.a.createElement(h.a,null,c.a.createElement(H.a,{height:u,width:"100%",itemSize:46,itemCount:e.length,ref:a},s))}),A=Object(b.a)((function(e){return Object(g.a)({textField:{},button:{height:55}})})),G=function(){var e=A(),t=Object(r.useState)(""),n=Object(d.a)(t,2),a=n[0],u=n[1],s=Object(l.b)(),i=Object(l.c)((function(e){return e.users.user}));return c.a.createElement("div",null,c.a.createElement(h.a,null,c.a.createElement(m.a,{display:"flex",p:1},c.a.createElement(m.a,{flexGrow:1,m:1},c.a.createElement(v.a,{className:e.textField,id:"outlined-basic",label:"Text here",variant:"outlined",size:"medium",value:a,onChange:function(e){return u(e.target.value)},fullWidth:!0})),c.a.createElement(m.a,{m:1},c.a.createElement(p.a,{className:e.button,variant:"contained",color:"primary",size:"large",onClick:function(){var e;s((e={user:i,text:a},k.emit("post message",e.text),{type:x.postMsg,msg:e})),u("")}},"Send")))))},P=n(46),R=n(174),$=Object(b.a)((function(e){return Object(g.a)({userItem:{color:"green"},list:Object(P.a)({},"@media (max-width:1280px)",{maxHeight:"130px",overflow:"auto"})})})),q=function(){var e=$(),t=Object(l.b)(),n=w(),a=Object(l.c)((function(e){return e.users.usersList})).map((function(t,n){return c.a.createElement(L.a,{key:n},c.a.createElement(M.a,null,c.a.createElement(S.a,null,c.a.createElement(B.a,null))),c.a.createElement(z.a,{className:e.userItem,primary:t}))}));return Object(r.useEffect)((function(){return n.on("disconnect",(function(){return t(C())})),function(){n.off("disconnect",(function(){return t(C())}))}})),Object(r.useEffect)((function(){return n.on("users list update",(function(e){t(function(e){return{type:x.updateUsers,users:e}}(e))})),function(){n.off("users list update")}})),c.a.createElement(h.a,null,c.a.createElement(R.a,{dense:!1,className:e.list},a))};n(142);var D=function(){var e=Object(l.c)((function(e){return e.users.user}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,null),c.a.createElement(o.a,null,c.a.createElement(m.a,{my:1},c.a.createElement(I,null)),e?c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{container:!0,direction:"row-reverse",spacing:1},c.a.createElement(f.a,{item:!0,xs:12,sm:4},c.a.createElement(q,null)),c.a.createElement(f.a,{item:!0,xs:12,sm:8},c.a.createElement(T,null),c.a.createElement(m.a,{mt:1},c.a.createElement(G,null))))):null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(26),Q=n(87),V=n(36),X={users:{user:"",usersList:[]},messages:[]};var Y=n(88);var Z=Object(K.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.joinUser:return Object(V.a)(Object(V.a)({},e),{},{user:t.user});case a.leaveChat:return{user:"",usersList:[]};case a.updateUsers:return Object(V.a)(Object(V.a)({},e),{},{usersList:t.users});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.messages,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.postMsg:return[].concat(Object(Y.a)(e),[t.msg]);default:return e}}}),_=[Q.a],ee=Object(K.d)(Z,K.a.apply(void 0,_));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:ee},c.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,n){e.exports=n(143)}},[[98,1,2]]]);
//# sourceMappingURL=main.03c23c87.chunk.js.map